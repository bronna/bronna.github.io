import{H as j,ai as B,aj as M,e as P,u as U,ak as x,X as R,a8 as G,q as H,z as k,al as K,am as W,an as S,ac as q,ao as X}from"./CVuNfkzf.js";import{a as g}from"./qDpDdD8I.js";const D=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>D(),tasks:new Set};function L(){const r=l.now();l.tasks.forEach(a=>{a.c(r)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick(L)}function J(r){let a;return l.tasks.size===0&&l.tick(L),{promise:new Promise(i=>{l.tasks.add(a={c:r,f:i})}),abort(){l.tasks.delete(a)}}}function y(r,a){r.dispatchEvent(new CustomEvent(a))}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function z(r){const a={},i=r.split(";");for(const t of i){const[n,_]=t.split(":");if(!n||_===void 0)break;const u=Q(n.trim());a[u]=_.trim()}return a}const V=r=>r;function $(r,a,i,t){var n=(r&x)!==0,_=(r&K)!==0,u=n&&_,b=(r&W)!==0,A=u?"both":n?"in":"out",h,o=a.inert,E=a.style.overflow,e,s;function w(){var f=X,N=R;S(null),q(null);try{return h??(h=i()(a,(t==null?void 0:t())??{},{direction:A}))}finally{S(f),q(N)}}var v={is_global:b,in(){var f;if(a.inert=o,!n){s==null||s.abort(),(f=s==null?void 0:s.reset)==null||f.call(s);return}_||e==null||e.abort(),y(a,"introstart"),e=p(a,w(),s,1,()=>{y(a,"introend"),e==null||e.abort(),e=h=void 0,a.style.overflow=E})},out(f){if(!_){f==null||f(),h=void 0;return}a.inert=!0,y(a,"outrostart"),s=p(a,w(),e,0,()=>{y(a,"outroend"),f==null||f()})},stop:()=>{e==null||e.abort(),s==null||s.abort()}},d=R;if((d.transitions??(d.transitions=[])).push(v),n&&g){var T=b;if(!T){for(var c=d.parent;c&&c.f&j;)for(;(c=c.parent)&&!(c.f&B););T=!c||(c.f&M)!==0}T&&P(()=>{U(()=>v.in())})}}function p(r,a,i,t,n){var _=t===1;if(G(a)){var u,b=!1;return H(()=>{if(!b){var d=a({direction:_?"in":"out"});u=p(r,d,i,t,n)}}),{abort:()=>{b=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(i==null||i.deactivate(),!(a!=null&&a.duration))return n(),{abort:k,deactivate:k,reset:k,t:()=>t};const{delay:A=0,css:h,tick:o,easing:E=V}=a;var e=[];if(_&&i===void 0&&(o&&o(0,1),h)){var s=z(h(0,1));e.push(s,s)}var w=()=>1-t,v=r.animate(e,{duration:A});return v.onfinish=()=>{var d=(i==null?void 0:i.t())??1-t;i==null||i.abort();var T=t-d,c=a.duration*Math.abs(T),f=[];if(c>0){var N=!1;if(h)for(var I=Math.ceil(c/16.666666666666668),F=0;F<=I;F+=1){var O=d+T*E(F/I),C=z(h(O,1-O));f.push(C),N||(N=C.overflow==="hidden")}N&&(r.style.overflow="hidden"),w=()=>{var m=v.currentTime;return d+T*E(m/c)},o&&J(()=>{if(v.playState!=="running")return!1;var m=w();return o(m,1-m),!0})}v=r.animate(f,{duration:c,fill:"forwards"}),v.onfinish=()=>{w=()=>t,o==null||o(t,1-t),n()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=k)},deactivate:()=>{n=k},reset:()=>{t===0&&(o==null||o(1,0))},t:()=>w()}}export{$ as t};
